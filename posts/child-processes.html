<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Jessica Quynh | What I am Learning: Child Processes in Node.js</title>
  <meta name="description" content="Child processes are the javascript wrapper for your system processes">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <meta property="og:title" content="What I am Learning: Child Processes in Node.js">
  <meta property="og:type" content="website">
  <meta property="og:url" content="http://jessicaquynh.github.io/posts/child-processes">
  <meta property="og:description" content="Child processes are the javascript wrapper for your system processes">
  <meta property="og:site_name" content="Jessica Quynh">
  <meta property="og:image" content="http://jessicaquynh.github.io/assets/og-image.jpg">

  <meta name="twitter:card" content="summary">
  <meta name="twitter:url" content="http://jessicaquynh.github.io/posts/child-processes">
  <meta name="twitter:title" content="What I am Learning: Child Processes in Node.js">
  <meta name="twitter:description" content="Child processes are the javascript wrapper for your system processes">
  <meta name="twitter:image" content="http://jessicaquynh.github.io/assets/og-image.jpg">


  <link href="http://jessicaquynh.github.io/feed.xml" type="application/rss+xml" rel="alternate" title="Jessica Quynh Last 10 blog posts" />

  
    <link type="text/css" rel="stylesheet" href="/assets/dark.css">
  
</head>

<body>
  <main role="main">
    <div class="grid grid-centered">
      <div class="grid-cell">
        <nav class="header-nav reveal">
  <a href="/" class="header-logo" title="Jessica Quynh">Jessica Quynh</a>
  <ul class="header-links">
    
      <li>
        <a href="/about" title="About me">
          <span class="icon icon-android-person"></span>
        </a>
      </li>
    
    
      <li>
        <a href="https://twitter.com/jalafel" target="_blank" title="Twitter">
          <span class="icon icon-social-twitter"></span>
        </a>
      </li>
    
    
    
      <li>
        <a href="https://github.com/jessicaquynh" target="_blank" title="GitHub">
          <span class="icon icon-social-github"></span>
        </a>
      </li>
    
    
    
    
    
    
    
      <li>
        <a href="/feed.xml" target="_blank" title="RSS">
          <span class="icon icon-social-rss"></span>
        </a>
      </li>
    
  </ul>
</nav>

        <article class="article reveal">
          <header class="article-header">
            <h1>What I am Learning: Child Processes in Node.js</h1>
            <p>Child processes are the javascript wrapper for your system processes</p>
            <div class="article-list-footer">
              <span class="article-list-date">
                November 15, 2016
              </span>
              <span class="article-list-divider">-</span>
              <span class="article-list-minutes">
                
                
                  3 minute read
                
              </span>
              <span class="article-list-divider">-</span>
              <div class="article-list-tags">
                
                  <a href="/tag/learning">learning</a>
                
                  <a href="/tag/node">node</a>
                
              </div>
            </div>
          </header>

          <div class="article-content">
            <h3 id="what-is-a-child-process">What is a child process?</h3>

<p>A child process is akin to <code class="highlighter-rouge">Linux's</code> <code class="highlighter-rouge">popen(3)</code>. It is used to generate another
shell/bash and execute a command in that.</p>

<p>Since Node.js is designed for efficient I/O processes, this functionality allows
for more intensive CPU processes without freezing the event loop.</p>

<p>Parent processes <em>spawn processes</em>, which are called the children of that
particular process. Child processes and parent processes can ommunicate back
and forth, and parent processes can listen to and control (to some extent)
their child processes.</p>

<h3 id="how-does-this-fit-into-the-observer-pattern">How does this fit into the Observer pattern?</h3>

<p>The observer pattern is a software design pattern in which an object, called
the subject, maintains a list of its dependents, called observers, and notifies
them automatically of any state changes, usually by calling one their methods.</p>

<h3 id="stark-differences-between-windows-and-unix">Stark differences between Windows and Unix</h3>

<p>The binary installation of Node has only been provided the child_processes
module in version X.X.X.</p>

<p>Options:
<code class="highlighter-rouge">detached</code>:
  <code class="highlighter-rouge">Windows</code>: Allows child to outlive its parent process
  <code class="highlighter-rouge">Unix</code>: Since child processes have always been allowed to outlive its parent,
  this just enables the child process to become the leader of the new process
  group and session.</p>

<p>The parent will wait for the detached child before exitting. You can use
  <code class="highlighter-rouge">child.unref()</code> to prevent the parent from waiting.</p>

<h3 id="behaviours">Behaviours</h3>

<p>The assumption here is that for a child process should exist, or at least extend
a base of the same environment as the parents (defined in <code class="highlighter-rouge">process.env</code>). I
believe node does this automatically, or else I could be wrong.</p>

<p><code class="highlighter-rouge">exec</code>:</p>
<ul>
  <li>Does not communicate between parent and child</li>
  <li>Output is a buffer, not a readable stream
<code class="highlighter-rouge">execFile</code>:</li>
  <li>Like <code class="highlighter-rouge">.exec</code> but does not spawn a shell, rather <code class="highlighter-rouge">file</code> is spawned directly
as a new process (slightly more efficient)
<code class="highlighter-rouge">spawn</code>:</li>
  <li>Monitored by parent process</li>
  <li>Listens to events such as close, error, exit, etc.</li>
  <li>Does not share memory with parent process
<code class="highlighter-rouge">fork</code>:</li>
  <li>Simliar to spawn; allows parent-child communication</li>
  <li>Returns a child_process establishing an IPC channel</li>
</ul>

<h3 id="more-information">More Information</h3>

<p><code class="highlighter-rouge">pid</code> is known as the processing group ID. A child process inherits the same process session ID
as its parents. If a process that is a session leader terminates, then a SIGHUP<sup id="fnref:1"><a href="#fn:1" class="footnote">1</a></sup> signal is
sent to each process.</p>

<h3 id="glossary">Glossary</h3>

<p><code class="highlighter-rouge">Orphan process</code> - is a computer process whose parent process has finished or terminated,
though it remains running. Inherent to Unix operating systems, orphaned processes will be
immediately adopted by the special init system process: the kernel sets the parent to init<sup id="fnref:2"><a href="#fn:2" class="footnote">2</a></sup>.</p>

<p><code class="highlighter-rouge">Daemon</code> - a computer program that runs as a background process, rather than being under the
direct control of an interactive user.</p>

<h3 id="resources">Resources:</h3>

<p><a href="https://medium.com/@graeme_boy/how-to-optimize-cpu-intensive-work-in-node-js-cdc09099ed41#.c78zcc41z">How To Optimize CPU Intensive Work in Node.js</a></p>

<p><a href="https://en.wikipedia.org/wiki/Observer_pattern">Observer Pattern</a></p>

<p><a href="https://nodejs.org/api/child_process.html#child_process_options_detached">Child Process</a></p>

<p><a href="https://en.wikipedia.org/wiki/Init">Init</a></p>

<p><a href="https://en.wikipedia.org/wiki/Process_identifier">Process Identifier</a></p>

<h3 id="footnotes">Footnotes</h3>

<div class="footnotes">
  <ol>
    <li id="fn:1">
      <p>This signal is used to report the termination of the controlling process on a terminal to jobs associated wih that session. This disconnects all processes in the session from the controller terminal. Any child process of the process being terminated are assigned a new parent process.&nbsp;<a href="#fnref:1" class="reversefootnote">&#8617;</a></p>
    </li>
    <li id="fn:2">
      <p>The first process started during booting of the computer system. It continues running until the system itself is shutdown.&nbsp;<a href="#fnref:2" class="reversefootnote">&#8617;</a></p>
    </li>
  </ol>
</div>

          </div>

          <div class="article-share">
            
            <a href="" title="Share on Twitter" onclick="window.open('https://twitter.com/home?status=What I am Learning: Child Processes in Node.js - http://jessicaquynh.github.io/posts/child-processes by @jalafel', 'newwindow', 'width=500, height=225'); return false;">
              <span class="icon icon-social-twitter"></span>
            </a>
            <a href="" title="Share on Facebook" onclick="window.open('https://www.facebook.com/sharer/sharer.php?u=http://jessicaquynh.github.io/posts/child-processes', 'newwindow', 'width=500, height=500'); return false;">
              <span class="icon icon-social-facebook"></span>
            </a>
            <a href="" title="Share on Google+" onclick="window.open('https://plus.google.com/share?url=http://jessicaquynh.github.io/posts/child-processes', 'newwindow', 'width=550, height=400'); return false;">
              <span class="icon icon-social-googleplus"></span>
            </a>
          </div>

          
            <div id="disqus_thread" class="article-comments"></div>
            <script>
              (function() {
                  var d = document, s = d.createElement('script');
                  s.src = '//jessicaquynh-github-io.disqus.com/embed.js';
                  s.setAttribute('data-timestamp', +new Date());
                  (d.head || d.body).appendChild(s);
              })();
            </script>
            <noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
          
        </article>
        <footer class="footer reveal">
  <p>
    This is a blog written by 
    <a href="/about" title="About me">Jessica Quynh Tran</a>.
  </p>
</footer>

      </div>
    </div>
  </main>
  <script type="text/javascript" src="/assets/vendor.js"></script>
<script type="text/javascript" src="/assets/application.js"></script>

<script src="https://ajax.googleapis.com/ajax/libs/webfont/1.6.16/webfont.js"></script>
<script>
  WebFont.load({
    google: {
      families: ['Cormorant Garamond:700', 'Lato:300,400,700']
    }
  });
</script>


  <script>
    window.ga=function(){ga.q.push(arguments)};ga.q=[];ga.l=+new Date;
    ga('create','UA-88235289-1','auto');ga('send','pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>


</body>
</html>
